(this.webpackJsonpktsrf=this.webpackJsonpktsrf||[]).push([[0],{134:function(e,a,t){},136:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(11),c=t.n(l),o=(t(99),t(10)),i=t(14),s=t.n(i),m=t(21),u=t.n(m);var d=function(e){var a=e.setRoute,t=e.setIsLoggedIn,l=e.apiUrl,c=Object(n.useState)(""),i=Object(o.a)(c,2),m=i[0],d=i[1],p=Object(n.useState)(""),h=Object(o.a)(p,2),b=h[0],g=h[1];Object(n.useEffect)((function(){s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.awrap(u.a.get(l+"/user").catch((function(e){alert("Server Error: Could not retrieve user list"),console.log(e)})).then((function(e){return console.log("OK",e.data)})));case 2:case"end":return e.stop()}}))}),[]);var f=function(){!function(){var e;s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e={email:m,password:b},a.next=3,s.a.awrap(u.a.post(l+"/login",e).catch((function(e){return console.log(e)})));case 3:a.sent;case 4:case"end":return a.stop()}}))}(),a("home"),t(!0)};return r.a.createElement("article",{className:"br3 ba b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center"},r.a.createElement("main",{className:"pa4 black-80"},r.a.createElement("form",{className:"measure",onSubmit:f},r.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},r.a.createElement("legend",{className:"f2 fw6 ph0 mh0"},"Log In"),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address"},"E-mail"),r.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",title:"Please enter a valid e-mail address",required:!0,pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",name:"email-address",id:"email-address",onChange:function(e){d(e.target.value)}})),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"password"},"Password"),r.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",required:!0,name:"password",id:"password",onChange:function(e){g(e.target.value)}}))),r.a.createElement("div",{className:""},r.a.createElement("button",{type:"submit",onClick:f,className:"b ph3 pv2 ba b--black bg-transparent grow pointer f6 dib"},"Log In")),r.a.createElement("div",{className:"lh-copy mt3"},r.a.createElement("p",{className:"f6 link dim black db pointer",onClick:function(){return a("signup")}},"Sign up")))))};var p=function(e){var a=e.setRoute,t=e.setIsLoggedIn,l=e.apiUrl,c=Object(n.useState)(""),i=Object(o.a)(c,2),m=i[0],d=i[1],p=Object(n.useState)(""),h=Object(o.a)(p,2),b=h[0],g=h[1],f=Object(n.useState)(""),E=Object(o.a)(f,2),v=E[0],w=E[1];return r.a.createElement("article",{className:"br3 ba b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center"},r.a.createElement("main",{className:"pa4 black-80"},r.a.createElement("form",{className:"measure",onSubmit:function(){!function(){var e,a;s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e={name:m,email:b,password:v},t.next=3,s.a.awrap(u.a.post(l+"/user",e));case 3:a=t.sent,console.log(a.data);case 5:case"end":return t.stop()}}))}(),function(){var e,a;s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e={email:b,password:v},t.next=3,s.a.awrap(u.a.post(l+"/login",e));case 3:a=t.sent,console.log(a.data);case 5:case"end":return t.stop()}}))}(),a("home"),t(!0)}},r.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},r.a.createElement("legend",{className:"f2 fw6 ph0 mh0"},"Sign Up"),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"name"},"User Name"),r.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"text",name:"name",id:"name",onChange:function(e){d(e.target.value)}})),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address"},"E-mail"),r.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email-address",id:"email-address",onChange:function(e){g(e.target.value)}})),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"password"},"Password"),r.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password",onChange:function(e){w(e.target.value)}}))),r.a.createElement("div",{className:""},r.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Register"})))))},h=t(9),b=t(179),g=t(8),f=t(185),E=t(186),v=t(187),w=t(138),y=t(139),O=t(201),k=t(184),N=t(199),j=t(84),C=t(76),S=t.n(C),x=t(77),I=t.n(x),P=t(53),R=t.n(P),L=t(74),U=t.n(L),z=t(75),B=t.n(z),W=Object(b.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(h.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(h.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(g.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(g.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(h.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),sectionDesktop:Object(h.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(h.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));function A(e){var a=W(),t=e.setRoute,l=e.setIsLoggedIn,c=e.apiUrl,i=e.setOpen,m=Object(n.useState)(null),d=Object(o.a)(m,2),p=d[0],h=d[1],b=Object(n.useState)(null),g=Object(o.a)(b,2),C=g[0],x=g[1],P=Boolean(p),L=Boolean(C);var z=function(e){h(e.currentTarget)},A=function(){x(null)},D="primary-search-account-menu",F=r.a.createElement(j.a,{anchorEl:p,anchorOrigin:{vertical:"top",horizontal:"right"},id:D,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:P,onClose:function(){h(null),A()}},r.a.createElement(N.a,{onClick:function(){t("login"),l(!1)}},"Log Out")),M=r.a.createElement(j.a,{anchorEl:C,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:L,onClose:A},r.a.createElement(N.a,null,r.a.createElement(w.a,{"aria-label":"show 4 new mails",color:"inherit"},r.a.createElement(k.a,{badgeContent:4,color:"secondary"},r.a.createElement(U.a,null))),r.a.createElement("p",null,"Messages")),r.a.createElement(N.a,null,r.a.createElement(w.a,{"aria-label":"show 11 new notifications",color:"inherit"},r.a.createElement(k.a,{badgeContent:11,color:"secondary"},r.a.createElement(B.a,null))),r.a.createElement("p",null,"Notifications")),r.a.createElement(N.a,{onClick:z},r.a.createElement(w.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},r.a.createElement(R.a,null)),r.a.createElement("p",null,"Log Out")));return r.a.createElement("div",{className:a.grow},r.a.createElement(f.a,{position:"static"},r.a.createElement(E.a,null,r.a.createElement(w.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"open drawer"},r.a.createElement(S.a,null)),r.a.createElement(y.a,{className:a.title,variant:"h6",noWrap:!0},"KTSRF"),r.a.createElement("div",{className:a.search},r.a.createElement("div",{className:a.searchIcon},r.a.createElement(I.a,null)),r.a.createElement(O.a,{placeholder:"Search Spot...",classes:{root:a.inputRoot,input:a.inputInput},inputProps:{"aria-label":"search"}})),r.a.createElement(v.a,{variant:"contained",color:"primary",onClick:function(){!function(){var e;s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.a.awrap(u.a.post(c+"/spot"));case 2:e=a.sent,console.log(e.data);case 4:case"end":return a.stop()}}))}(),i(!0)}},"Add Spot"),r.a.createElement("div",{className:a.grow}),r.a.createElement(y.a,{className:a.greeting,variant:"h6",noWrap:!0},"Hello, [Username] !"),r.a.createElement("div",{className:a.sectionDesktop},r.a.createElement(w.a,{edge:"end","aria-label":"account of current user","aria-controls":D,"aria-haspopup":"true",onClick:z,color:"inherit"},r.a.createElement(R.a,null))),r.a.createElement("div",{className:a.sectionMobile},r.a.createElement(w.a,{edge:"end","aria-label":"account of current user","aria-controls":D,"aria-haspopup":"true",onClick:z,color:"inherit"},r.a.createElement(R.a,null))))),M,F)}var D=t(3),F=t(192),M=t(193),H=t(190),K=t(191),T=t(188),q=t(196),G=t(189),_=t(202),J=t(137),$=t(197),Q=t(203),V=t(194),X=t(195),Y=t(79),Z=t.n(Y),ee=t(80),ae=t.n(ee);function te(e,a,t){return a[t]<e[t]?-1:a[t]>e[t]?1:0}var ne=[{id:"name",numeric:!1,disablePadding:!0,label:"Kitesurf Spot Name"},{id:"country",numeric:!1,disablePadding:!1,label:"Country"},{id:"lat",numeric:!0,disablePadding:!1,label:"Latitude"},{id:"long",numeric:!0,disablePadding:!1,label:"Longitude"},{id:"probability",numeric:!0,disablePadding:!1,label:"Wind Probability"},{id:"month",numeric:!1,disablePadding:!1,label:"When To Go"}];function re(e){var a=e.classes,t=e.onSelectAllClick,n=e.order,l=e.orderBy,c=e.numSelected,o=e.rowCount,i=e.onRequestSort;return r.a.createElement(T.a,null,r.a.createElement(G.a,null,r.a.createElement(H.a,{padding:"checkbox"},r.a.createElement($.a,{indeterminate:c>0&&c<o,checked:o>0&&c===o,onChange:t,inputProps:{"aria-label":"select all desserts"}})),ne.map((function(e){return r.a.createElement(H.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:l===e.id&&n},r.a.createElement(_.a,{active:l===e.id,direction:l===e.id?n:"asc",onClick:(t=e.id,function(e){i(e,t)})},e.label,l===e.id?r.a.createElement("span",{className:a.visuallyHidden},"desc"===n?"sorted descending":"sorted ascending"):null));var t}))))}var le=Object(b.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(g.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),ce=function(e){var a=le(),t=e.numSelected;return r.a.createElement(E.a,{className:Object(D.a)(a.root,Object(h.a)({},a.highlight,t>0))},t>0?r.a.createElement(y.a,{className:a.title,color:"inherit",variant:"subtitle1"},t," selected"):r.a.createElement(y.a,{className:a.title,variant:"h6",id:"tableTitle"},"Kitesurf Spots Worldwide"),t>0?r.a.createElement(Q.a,{title:"Delete"},r.a.createElement(w.a,{"aria-label":"delete"},r.a.createElement(Z.a,null))):r.a.createElement(Q.a,{title:"Filter Spots"},r.a.createElement(w.a,{"aria-label":"filter list"},r.a.createElement(ae.a,null))))},oe=Object(b.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function ie(e){var a=e.rows,t=oe(),n=r.a.useState("asc"),l=Object(o.a)(n,2),c=l[0],i=l[1],s=r.a.useState("country"),m=Object(o.a)(s,2),u=m[0],d=m[1],p=r.a.useState([]),h=Object(o.a)(p,2),b=h[0],g=h[1],f=r.a.useState(0),E=Object(o.a)(f,2),v=E[0],w=E[1],y=r.a.useState(!0),O=Object(o.a)(y,2),k=O[0],N=O[1],j=r.a.useState(10),C=Object(o.a)(j,2),S=C[0],x=C[1],I=S-Math.min(S,a.length-v*S);return r.a.createElement("div",{className:t.root},r.a.createElement(J.a,{className:t.paper},r.a.createElement(ce,{numSelected:b.length}),r.a.createElement(K.a,null,r.a.createElement(F.a,{className:t.table,"aria-labelledby":"tableTitle",size:k?"small":"medium","aria-label":"enhanced table"},r.a.createElement(re,{classes:t,numSelected:b.length,order:c,orderBy:u,onSelectAllClick:function(e){if(e.target.checked){var t=a.map((function(e){return e.name}));g(t)}else g([])},onRequestSort:function(e,a){i(u===a&&"asc"===c?"desc":"asc"),d(a)},rowCount:a.length}),r.a.createElement(M.a,null,function(e,a){var t=e.map((function(e,a){return[e,a]}));return t.sort((function(e,t){var n=a(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),t.map((function(e){return e[0]}))}(a,function(e,a){return"desc"===e?function(e,t){return te(e,t,a)}:function(e,t){return-te(e,t,a)}}(c,u)).slice(v*S,v*S+S).map((function(e,a){var t,n=(t=e.name,-1!==b.indexOf(t)),l="enhanced-table-checkbox-".concat(a);return r.a.createElement(G.a,{hover:!0,onClick:function(a){return function(e,a){var t=b.indexOf(a),n=[];-1===t?n=n.concat(b,a):0===t?n=n.concat(b.slice(1)):t===b.length-1?n=n.concat(b.slice(0,-1)):t>0&&(n=n.concat(b.slice(0,t),b.slice(t+1))),g(n)}(0,e.name)},role:"checkbox","aria-checked":n,tabIndex:-1,key:e.name,selected:n},r.a.createElement(H.a,{padding:"checkbox"},r.a.createElement($.a,{checked:n,inputProps:{"aria-labelledby":l}})),r.a.createElement(H.a,{component:"th",id:l,scope:"row",padding:"none"},e.name),r.a.createElement(H.a,{align:"right"},e.country),r.a.createElement(H.a,{align:"right"},e.lat),r.a.createElement(H.a,{align:"right"},e.long),r.a.createElement(H.a,{align:"right"},e.probability),r.a.createElement(H.a,{align:"right"},e.month))})),I>0&&r.a.createElement(G.a,{style:{height:(k?33:53)*I}},r.a.createElement(H.a,{colSpan:6}))))),r.a.createElement(q.a,{rowsPerPageOptions:[5,10,25],component:"div",count:a.length,rowsPerPage:S,page:v,onChangePage:function(e,a){w(a)},onChangeRowsPerPage:function(e){x(parseInt(e.target.value,10)),w(0)}})),r.a.createElement(V.a,{control:r.a.createElement(X.a,{checked:k,onChange:function(e){N(e.target.checked)}}),label:"Dense padding"}))}var se=t(47),me=t(27),ue=t(81),de=t(82),pe=t(85),he=t(59),be={width:"100vw",height:"40vh",marginBottom:"2rem"},ge=function(e){function a(){return Object(se.a)(this,a),Object(ue.a)(this,Object(de.a)(a).apply(this,arguments))}return Object(pe.a)(a,e),Object(me.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"mapContainer"},r.a.createElement(he.Map,{google:this.props.google,zoom:5,style:be,initialCenter:{lat:41.3851,lng:2.1734}}))}}]),a}(n.Component),fe=Object(he.GoogleApiWrapper)({apiKey:"AIzaSyAFR9ohystEpVf1UyEPad9Mfh56S3-R6Qo"})(ge),Ee=t(200),ve=t(83),we=t.n(ve),ye=Object(b.a)((function(e){return{close:{padding:e.spacing(.5)}}}));function Oe(e){var a=ye(),t=Object(n.useState)(e.open),l=Object(o.a)(t,2),c=l[0],i=l[1],s=function(e,a){"clickaway"!==a&&i(!1)};return r.a.createElement("div",null,r.a.createElement(Ee.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:c,autoHideDuration:6e3,onClose:s,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},"New Spot Added!"),action:[r.a.createElement(v.a,{key:"undo",color:"secondary",size:"small",onClick:s},"UNDO"),r.a.createElement(w.a,{key:"close","aria-label":"close",color:"inherit",className:a.close,onClick:s},r.a.createElement(we.a,null))]}))}var ke=t(4);var Ne=Object(ke.a)({userHomeContainer:{height:"100vh",width:"99vw",display:"flex",flexDirection:"column",justifyContent:"space-between",position:"relative"},navbar:{height:"5vh",marginBottom:"2rem"},map:{height:"50vh"},form:{height:"20vh",margin:"1rem, 5rem",padding:"2rem",position:"relative",zIndex:"100",left:"1vw",top:"5vh"},table:{height:"55vh"}})((function(e){var a=e.classes,t=e.apiUrl,l=e.setRoute,c=e.setIsLoggedIn,i=Object(n.useState)([]),m=Object(o.a)(i,2),d=m[0],p=m[1],h=Object(n.useState)(!0),b=Object(o.a)(h,2),g=b[0],f=b[1];return Object(n.useEffect)((function(){!function(){var e;s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.a.awrap(u.a.get(t+"/spot"));case 2:e=a.sent,p(e.data),console.log(e.data.length);case 5:case"end":return a.stop()}}))}()}),[]),r.a.createElement("div",{className:a.userHomeContainer},r.a.createElement("div",{className:a.appbar},r.a.createElement(A,{setRoute:l,setIsLoggedIn:c,apiUrl:t,setOpen:function(){return f()}})),r.a.createElement("div",{className:a.map},r.a.createElement(fe,null)),r.a.createElement("div",{className:a.table},r.a.createElement(ie,{rows:d,apiUrl:t})),r.a.createElement("div",{className:a.snackbar},r.a.createElement(Oe,{open:g})))})),je=(t(134),"https://5e3064ed576f9d0014d63faf.mockapi.io");var Ce=function(){var e=Object(n.useState)("login"),a=Object(o.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(!1),i=Object(o.a)(c,2),s=(i[0],i[1]);return r.a.createElement("div",{className:"App"},"home"===t?r.a.createElement(Ne,{setRoute:l,setIsLoggedIn:s,apiUrl:je}):"login"===t?r.a.createElement(d,{setRoute:l,setIsLoggedIn:s,apiUrl:je}):r.a.createElement(p,{setRoute:l,setIsLoggedIn:s,apiUrl:je}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(135);c.a.render(r.a.createElement(Ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},94:function(e,a,t){e.exports=t(136)},99:function(e,a,t){}},[[94,1,2]]]);
//# sourceMappingURL=main.008f760a.chunk.js.map